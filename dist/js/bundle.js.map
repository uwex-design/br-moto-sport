{"version":3,"sources":["libs.js","common.js","dropdown-desktop.js","dropdown-mobile.js"],"names":["window","BRMotoSport","debounce","func","wait","let","timeout","args","clearTimeout","setTimeout","throttle","limit","inThrottle","arguments","apply","this","lazyLoad","images","document","querySelectorAll","imageObserver","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","img","target","src","dataset","classList","remove","unobserve","observe","smoothScroll","element","querySelector","scrollIntoView","behavior","block","console","log","CONFIG","SELECTORS","menuToggle","mobileMenu","internalLinks","CLASSES","loaded","menuOpen","active","init","body","add","initMobileMenu","addEventListener","toggle","link","e","preventDefault","getAttribute","Swiper","slidesPerView","spaceBetween","readyState","DEV","location","hostname","search","includes","DESKTOP_BREAKPOINT","resizeTimeout","dropdownInstance","message","initDesktopDropdown","innerWidth","dropdownBtn","dropdownMenu","header","btn","menu","close","open","contains","setup","self","handleClick","stopPropagation","handleMenuLeave","handleBtnLeave","matches","handleOutsideClick","closest","removeEventListener","error","handleResize","MOBILE_BREAKPOINT","headerObserver","mobileInstance","config","triggerClass","submenuId","headerSelector","menuToggleSelector","activeClass","headerActiveClass","isMobile","cleanupMobileInstance","cleanup","setupHeaderObserver","disconnect","MutationObserver","mutations","mutation","type","attributeName","isMenuOpen","attributes","attributeFilter","setupMobileDropdown","triggerLi","submenu","style","cssText","setAttribute","appendChild","originalContainer","parentNode"],"mappings":"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","file":"bundle.js","sourcesContent":["// BR Moto Sport - Bibliotecas e Utilitários\n// Arquivo: src/js/libs.js\n\n// Funções utilitárias globais\nwindow.BRMotoSport = window.BRMotoSport || {};\n\n// Utilitário para debounce\nBRMotoSport.debounce = function(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\n\n// Utilitário para throttle\nBRMotoSport.throttle = function(func, limit) {\n  let inThrottle;\n  return function() {\n    const args = arguments;\n    const context = this;\n    if (!inThrottle) {\n      func.apply(context, args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n};\n\n// Função para lazy loading\nBRMotoSport.lazyLoad = function() {\n  const images = document.querySelectorAll('img[data-src]');\n  \n  const imageObserver = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const img = entry.target;\n        img.src = img.dataset.src;\n        img.classList.remove('lazy');\n        imageObserver.unobserve(img);\n      }\n    });\n  });\n\n  images.forEach(img => imageObserver.observe(img));\n};\n\n// Função para smooth scroll\nBRMotoSport.smoothScroll = function(target) {\n  const element = document.querySelector(target);\n  if (element) {\n    element.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start'\n    });\n  }\n};\n\nconsole.log('BR Moto Sport - Bibliotecas carregadas!');\n","/**\n * BR Moto Sport - Código Comum\n * Arquivo: src/js/common.js\n */\n\n(() => {\n  'use strict';\n\n  // Configurações\n  const CONFIG = {\n    SELECTORS: {\n      menuToggle: '.menu-toggle',\n      mobileMenu: '.mobile-menu',\n      internalLinks: 'a[href^=\"#\"]'\n    },\n    CLASSES: {\n      loaded: 'loaded',\n      menuOpen: 'menu-open',\n      active: 'active'\n    }\n  };\n\n  /**\n   * Inicializa lazy loading se disponível\n   */\n  function initLazyLoad() {\n    if (window.BRMotoSport?.lazyLoad) {\n      window.BRMotoSport.lazyLoad();\n    }\n  }\n\n  /**\n   * Inicializa menu mobile (se existir)\n   */\n  function initMobileMenu() {\n    const menuToggle = document.querySelector(CONFIG.SELECTORS.menuToggle);\n    const mobileMenu = document.querySelector(CONFIG.SELECTORS.mobileMenu);\n    \n    if (menuToggle && mobileMenu) {\n      menuToggle.addEventListener('click', () => {\n        mobileMenu.classList.toggle(CONFIG.CLASSES.active);\n        menuToggle.classList.toggle(CONFIG.CLASSES.active);\n        document.body.classList.toggle(CONFIG.CLASSES.menuOpen);\n      });\n    }\n  }\n\n  /**\n   * Inicializa smooth scroll para links internos\n   */\n  function initSmoothScroll() {\n    const internalLinks = document.querySelectorAll(CONFIG.SELECTORS.internalLinks);\n    \n    internalLinks.forEach(link => {\n      link.addEventListener('click', function(e) {\n        e.preventDefault();\n        const target = this.getAttribute('href');\n        \n        if (window.BRMotoSport?.smoothScroll) {\n          window.BRMotoSport.smoothScroll(target);\n        }\n      });\n    });\n  }\n\n  /**\n   * Inicialização principal\n   */\n  function init() {\n    // Adicionar classe loaded ao body\n    document.body.classList.add(CONFIG.CLASSES.loaded);\n    \n    // Inicializar funcionalidades\n    initLazyLoad();\n    initMobileMenu();\n    initSmoothScroll();\n    \n    // Inicializar Swiper se disponível\n    initSwiperMarcas();\n  }\n\n  /**\n   * Inicializa Swiper das marcas (se disponível)\n   */\n  function initSwiperMarcas() {\n    if (typeof Swiper !== 'undefined') {\n      const swiperMarcas = document.querySelector(\".swiper.swiper-marcas\");\n      \n      if (swiperMarcas) {\n        new Swiper(\".swiper.swiper-marcas\", {\n          slidesPerView: 1.5,\n          spaceBetween: 0,\n        });\n      }\n    }\n  }\n\n  // Inicialização\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", init);\n  } else {\n    setTimeout(init, 100);\n  }\n})();\n","/**\n * BR Moto Sport - Dropdown Desktop (Produção)\n * Otimizado para performance e estabilidade\n */\n\n(function() {\n  'use strict';\n  \n  const DEV = window.location.hostname === 'localhost' || window.location.search.includes('debug');\n  const DESKTOP_BREAKPOINT = 1024;\n  \n  let resizeTimeout;\n  let dropdownInstance = null;\n  \n  function log(message) {\n    if (DEV) console.log('BR Moto Sport:', message);\n  }\n  \n  function isDesktop() {\n    return window.innerWidth > DESKTOP_BREAKPOINT;\n  }\n  \n  function createDropdownInstance() {\n    const dropdownBtn = document.querySelector('.btn-dropdown');\n    const dropdownMenu = document.querySelector('.dropdown-menu');\n    const header = document.querySelector('.header-main');\n    \n    if (!dropdownBtn || !dropdownMenu) {\n      log('Elementos do dropdown desktop não encontrados');\n      return null;\n    }\n    \n    return {\n      btn: dropdownBtn,\n      menu: dropdownMenu,\n      header: header,\n      \n      close: function() {\n        this.menu.classList.remove('active');\n        this.btn.classList.remove('active');\n        if (this.header) {\n          this.header.classList.remove('dropdown-open');\n        }\n      },\n      \n      open: function() {\n        this.menu.classList.add('active');\n        this.btn.classList.add('active');\n        if (this.header) {\n          this.header.classList.add('dropdown-open');\n        }\n      },\n      \n      toggle: function() {\n        if (this.menu.classList.contains('active')) {\n          this.close();\n        } else {\n          this.open();\n        }\n      },\n      \n      setup: function() {\n        const self = this;\n        \n        // Click handler\n        function handleClick(e) {\n          e.preventDefault();\n          e.stopPropagation();\n          self.toggle();\n        }\n        \n        // Mouse leave handlers\n        function handleMenuLeave() {\n          self.close();\n        }\n        \n        function handleBtnLeave() {\n          setTimeout(() => {\n            if (!self.menu.matches(':hover')) {\n              self.close();\n            }\n          }, 100);\n        }\n        \n        // Click outside handler\n        function handleOutsideClick(e) {\n          if (!e.target.closest('.btn-dropdown') && !e.target.closest('.dropdown-menu')) {\n            self.close();\n          }\n        }\n        \n        // Remove existing listeners\n        this.btn.removeEventListener('click', handleClick);\n        this.menu.removeEventListener('mouseleave', handleMenuLeave);\n        this.btn.removeEventListener('mouseleave', handleBtnLeave);\n        document.removeEventListener('click', handleOutsideClick);\n        \n        // Add new listeners\n        this.btn.addEventListener('click', handleClick);\n        this.menu.addEventListener('mouseleave', handleMenuLeave);\n        this.btn.addEventListener('mouseleave', handleBtnLeave);\n        document.addEventListener('click', handleOutsideClick);\n      }\n    };\n  }\n  \n  function initDesktopDropdown() {\n    try {\n      if (!isDesktop()) {\n        if (dropdownInstance) {\n          dropdownInstance.close();\n          dropdownInstance = null;\n        }\n        return;\n      }\n      \n      dropdownInstance = createDropdownInstance();\n      if (dropdownInstance) {\n        dropdownInstance.setup();\n        log('Dropdown desktop inicializado');\n      }\n    } catch (error) {\n      if (DEV) console.error('Erro ao inicializar dropdown desktop:', error);\n    }\n  }\n  \n  // Debounced resize handler\n  function handleResize() {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(initDesktopDropdown, 250);\n  }\n  \n  // Initialize\n  function init() {\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', initDesktopDropdown);\n    } else {\n      initDesktopDropdown();\n    }\n    \n    window.addEventListener('resize', handleResize);\n  }\n  \n  init();\n  \n})();","/**\n * BR Moto Sport - Dropdown Mobile (Produção)\n * Otimizado para performance e estabilidade\n */\n\n(function() {\n  'use strict';\n  \n  const DEV = window.location.hostname === 'localhost' || window.location.search.includes('debug');\n  const MOBILE_BREAKPOINT = 1024;\n  \n  let resizeTimeout;\n  let headerObserver = null;\n  let mobileInstance = null;\n  \n  const config = {\n    triggerClass: '.btn-dropdown',\n    submenuId: 'mega-menu',\n    headerSelector: '.header-main',\n    menuToggleSelector: '.menu-hamburger',\n    activeClass: 'w--open',\n    headerActiveClass: 'mobile-menu-active'\n  };\n  \n  function log(message) {\n    if (DEV) console.log('BR Moto Sport Mobile:', message);\n  }\n  \n  function isMobile() {\n    return window.innerWidth <= MOBILE_BREAKPOINT;\n  }\n  \n  function cleanupMobileInstance() {\n    if (mobileInstance) {\n      mobileInstance.cleanup();\n      mobileInstance = null;\n    }\n  }\n  \n  function createMobileInstance() {\n    const triggerLi = document.querySelector(`li:has(${config.triggerClass})`);\n    const submenu = document.querySelector(`#${config.submenuId} .dropdown-menu-list`);\n    \n    if (!triggerLi || !submenu) {\n      log('Elementos do dropdown mobile não encontrados');\n      return null;\n    }\n    \n    return {\n      triggerLi: triggerLi,\n      submenu: submenu,\n      \n      open: function() {\n        this.submenu.style.cssText = '';\n        this.submenu.setAttribute('aria-hidden', 'false');\n        this.submenu.classList.add('active');\n        this.triggerLi.classList.add('active');\n      },\n      \n      close: function() {\n        this.submenu.style.cssText = `\n          display: none !important;\n          visibility: hidden !important;\n          opacity: 0 !important;\n          pointer-events: none !important;\n        `;\n        this.submenu.classList.remove('active');\n        this.submenu.setAttribute('aria-hidden', 'true');\n        this.triggerLi.classList.remove('active');\n      },\n      \n      setup: function() {\n        const self = this;\n        \n        // Move submenu into LI\n        this.triggerLi.appendChild(this.submenu);\n        \n        // Prevent bubbling on links\n        const submenuLinks = this.submenu.querySelectorAll('a');\n        submenuLinks.forEach(link => {\n          link.addEventListener('click', (e) => e.stopPropagation());\n        });\n        \n        // Click handler\n        function handleClick(e) {\n          if (!e.target.closest('.dropdown-menu-list a')) {\n            e.preventDefault();\n            e.stopPropagation();\n            self.triggerLi.classList.contains('active') ? self.close() : self.open();\n          }\n        }\n        \n        // Remove existing listeners\n        this.triggerLi.removeEventListener('click', handleClick);\n        \n        // Add new listener\n        this.triggerLi.addEventListener('click', handleClick);\n      },\n      \n      cleanup: function() {\n        // Restore submenu to original position if needed\n        const originalContainer = document.querySelector(`#${config.submenuId}`);\n        if (originalContainer && this.submenu.parentNode === this.triggerLi) {\n          originalContainer.querySelector('.dropdown-menu-wrap').appendChild(this.submenu);\n        }\n      }\n    };\n  }\n  \n  function setupHeaderObserver() {\n    try {\n      if (!isMobile()) {\n        if (headerObserver) {\n          headerObserver.disconnect();\n          headerObserver = null;\n        }\n        return;\n      }\n      \n      const header = document.querySelector(config.headerSelector);\n      const menuToggle = document.querySelector(config.menuToggleSelector);\n      \n      if (!header || !menuToggle) {\n        log('Elementos do header mobile não encontrados');\n        return;\n      }\n      \n      if (headerObserver) {\n        headerObserver.disconnect();\n      }\n      \n      headerObserver = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n            const isMenuOpen = menuToggle.classList.contains(config.activeClass);\n            header.classList.toggle(config.headerActiveClass, isMenuOpen);\n          }\n        });\n      });\n      \n      headerObserver.observe(menuToggle, {\n        attributes: true,\n        attributeFilter: ['class']\n      });\n      \n      // Check initial state\n      header.classList.toggle(config.headerActiveClass, menuToggle.classList.contains(config.activeClass));\n      \n      log('Header observer configurado');\n    } catch (error) {\n      if (DEV) console.error('Erro ao configurar header observer:', error);\n    }\n  }\n  \n  function setupMobileDropdown() {\n    try {\n      if (!isMobile()) {\n        cleanupMobileInstance();\n        return;\n\n\n      }\n      \n      cleanupMobileInstance();\n      mobileInstance = createMobileInstance();\n      \n      if (mobileInstance) {\n        mobileInstance.setup();\n        log('Dropdown mobile inicializado');\n      }\n    } catch (error) {\n      if (DEV) console.error('Erro ao inicializar dropdown mobile:', error);\n    }\n  }\n  \n  function handleOutsideClick(e) {\n    if (!isMobile() || !mobileInstance) return;\n    \n    if (!e.target.closest(`li:has(${config.triggerClass})`)) {\n      mobileInstance.close();\n    }\n  }\n  \n  function handleResize() {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(() => {\n      cleanupMobileInstance();\n      setupHeaderObserver();\n      setupMobileDropdown();\n    }, 250);\n  }\n  \n  function init() {\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () => {\n        setupHeaderObserver();\n        setupMobileDropdown();\n      });\n    } else {\n      setTimeout(() => {\n        setupHeaderObserver();\n        setupMobileDropdown();\n      }, 100);\n    }\n    \n    window.addEventListener('resize', handleResize);\n    document.addEventListener('click', handleOutsideClick);\n  }\n  \n  init();\n  \n})();"]}
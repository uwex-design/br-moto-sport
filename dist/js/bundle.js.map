{"version":3,"sources":["libs.js","common.js","dropdown-desktop.js","dropdown-mobile.js"],"names":["window","BRMotoSport","debounce","func","wait","let","timeout","args","clearTimeout","setTimeout","throttle","limit","inThrottle","arguments","apply","this","lazyLoad","images","document","querySelectorAll","imageObserver","IntersectionObserver","entries","observer","forEach","entry","isIntersecting","img","target","src","dataset","classList","remove","unobserve","observe","smoothScroll","element","querySelector","scrollIntoView","behavior","block","console","log","CONFIG","SELECTORS","menuToggle","mobileMenu","internalLinks","CLASSES","loaded","menuOpen","active","init","body","add","initMobileMenu","addEventListener","toggle","link","e","preventDefault","getAttribute","readyState","BREAKPOINT","dropdownBtn","dropdownMenu","header","headerOpen","TIMING","hoverDelay","resizeDelay","elements","isInitialized","hoverTimeout","isDesktop","innerWidth","closeDropdown","toggleDropdown","contains","handleButtonClick","stopPropagation","handleDropdownLeave","handleButtonLeave","matches","handleDropdownEnter","handleOutsideClick","closest","initDropdownDesktop","removeEventListener","handleResize","desktopDropdownResizeTimeout","triggerClass","submenuId","headerSelector","menuToggleSelector","headerActive","dropdownActive","isMobile","handleMarcaClick","submenu","closeMarcaDropdown","triggerLi","openMarcaDropdown","setAttribute","style","cssText","initMobileFeatures","MutationObserver","mutations","mutation","type","attributeName","attributes","attributeFilter","appendChild","mobileDropdownResizeTimeout"],"mappings":"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","file":"bundle.js","sourcesContent":["// BR Moto Sport - Bibliotecas e Utilitários\n// Arquivo: src/js/libs.js\n\n// Funções utilitárias globais\nwindow.BRMotoSport = window.BRMotoSport || {};\n\n// Utilitário para debounce\nBRMotoSport.debounce = function(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\n\n// Utilitário para throttle\nBRMotoSport.throttle = function(func, limit) {\n  let inThrottle;\n  return function() {\n    const args = arguments;\n    const context = this;\n    if (!inThrottle) {\n      func.apply(context, args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n};\n\n// Função para lazy loading\nBRMotoSport.lazyLoad = function() {\n  const images = document.querySelectorAll('img[data-src]');\n  \n  const imageObserver = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const img = entry.target;\n        img.src = img.dataset.src;\n        img.classList.remove('lazy');\n        imageObserver.unobserve(img);\n      }\n    });\n  });\n\n  images.forEach(img => imageObserver.observe(img));\n};\n\n// Função para smooth scroll\nBRMotoSport.smoothScroll = function(target) {\n  const element = document.querySelector(target);\n  if (element) {\n    element.scrollIntoView({\n      behavior: 'smooth',\n      block: 'start'\n    });\n  }\n};\n\nconsole.log('BR Moto Sport - Bibliotecas carregadas!');\n","/**\n * BR Moto Sport - Código Comum\n * Arquivo: src/js/common.js\n */\n\n(() => {\n  'use strict';\n\n  // Configurações\n  const CONFIG = {\n    SELECTORS: {\n      menuToggle: '.menu-toggle',\n      mobileMenu: '.mobile-menu',\n      internalLinks: 'a[href^=\"#\"]'\n    },\n    CLASSES: {\n      loaded: 'loaded',\n      menuOpen: 'menu-open',\n      active: 'active'\n    }\n  };\n\n  /**\n   * Inicializa lazy loading se disponível\n   */\n  function initLazyLoad() {\n    if (window.BRMotoSport?.lazyLoad) {\n      window.BRMotoSport.lazyLoad();\n    }\n  }\n\n  /**\n   * Inicializa menu mobile (se existir)\n   */\n  function initMobileMenu() {\n    const menuToggle = document.querySelector(CONFIG.SELECTORS.menuToggle);\n    const mobileMenu = document.querySelector(CONFIG.SELECTORS.mobileMenu);\n    \n    if (menuToggle && mobileMenu) {\n      menuToggle.addEventListener('click', () => {\n        mobileMenu.classList.toggle(CONFIG.CLASSES.active);\n        menuToggle.classList.toggle(CONFIG.CLASSES.active);\n        document.body.classList.toggle(CONFIG.CLASSES.menuOpen);\n      });\n    }\n  }\n\n  /**\n   * Inicializa smooth scroll para links internos\n   */\n  function initSmoothScroll() {\n    const internalLinks = document.querySelectorAll(CONFIG.SELECTORS.internalLinks);\n    \n    internalLinks.forEach(link => {\n      link.addEventListener('click', function(e) {\n        e.preventDefault();\n        const target = this.getAttribute('href');\n        \n        if (window.BRMotoSport?.smoothScroll) {\n          window.BRMotoSport.smoothScroll(target);\n        }\n      });\n    });\n  }\n\n  /**\n   * Inicialização principal\n   */\n  function init() {\n    // Adicionar classe loaded ao body\n    document.body.classList.add(CONFIG.CLASSES.loaded);\n    \n    // Inicializar funcionalidades\n    initLazyLoad();\n    initMobileMenu();\n    initSmoothScroll();\n  }\n\n  // Inicialização\n  if (document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", init);\n  } else {\n    setTimeout(init, 100);\n  }\n})();\n","/**\n * BR Moto Sport - Dropdown Desktop\n * Funcionalidade de dropdown para desktop (>1024px)\n * Arquivo: src/js/dropdown-desktop.js\n */\n\n(() => {\n  'use strict';\n\n  // Configurações\n  const CONFIG = {\n    BREAKPOINT: 1024,\n    SELECTORS: {\n      dropdownBtn: '.btn-dropdown',\n      dropdownMenu: '.dropdown-menu',\n      header: '.header-main'\n    },\n    CLASSES: {\n      active: 'active',\n      headerOpen: 'dropdown-open'\n    },\n    TIMING: {\n      hoverDelay: 100,\n      resizeDelay: 150\n    }\n  };\n\n  // Cache de elementos\n  let elements = {};\n  let isInitialized = false;\n  let hoverTimeout = null;\n\n  /**\n   * Verifica se está em desktop\n   */\n  function isDesktop() {\n    return window.innerWidth > CONFIG.BREAKPOINT;\n  }\n\n  /**\n   * Cache de elementos DOM\n   */\n  function cacheElements() {\n    elements = {\n      dropdownBtn: document.querySelector(CONFIG.SELECTORS.dropdownBtn),\n      dropdownMenu: document.querySelector(CONFIG.SELECTORS.dropdownMenu),\n      header: document.querySelector(CONFIG.SELECTORS.header)\n    };\n  }\n\n  /**\n   * Fecha o dropdown\n   */\n  function closeDropdown() {\n    if (!elements.dropdownMenu || !elements.dropdownBtn) return;\n\n    elements.dropdownMenu.classList.remove(CONFIG.CLASSES.active);\n    elements.dropdownBtn.classList.remove(CONFIG.CLASSES.active);\n    \n    if (elements.header) {\n      elements.header.classList.remove(CONFIG.CLASSES.headerOpen);\n    }\n  }\n\n  /**\n   * Abre o dropdown\n   */\n  function openDropdown() {\n    if (!elements.dropdownMenu || !elements.dropdownBtn) return;\n\n    elements.dropdownMenu.classList.add(CONFIG.CLASSES.active);\n    elements.dropdownBtn.classList.add(CONFIG.CLASSES.active);\n    \n    if (elements.header) {\n      elements.header.classList.add(CONFIG.CLASSES.headerOpen);\n    }\n  }\n\n  /**\n   * Toggle do dropdown\n   */\n  function toggleDropdown() {\n    if (!elements.dropdownMenu) return;\n\n    const isActive = elements.dropdownMenu.classList.contains(CONFIG.CLASSES.active);\n    \n    if (isActive) {\n      closeDropdown();\n    } else {\n      openDropdown();\n    }\n  }\n\n  /**\n   * Handler para clique no botão\n   */\n  function handleButtonClick(e) {\n    if (!isDesktop()) return;\n    \n    e.preventDefault();\n    e.stopPropagation();\n    toggleDropdown();\n  }\n\n  /**\n   * Handler para mouse leave do dropdown\n   */\n  function handleDropdownLeave() {\n    if (!isDesktop()) return;\n    closeDropdown();\n  }\n\n  /**\n   * Handler para mouse leave do botão\n   */\n  function handleButtonLeave() {\n    if (!isDesktop()) return;\n    \n    hoverTimeout = setTimeout(() => {\n      if (!elements.dropdownMenu.matches(':hover')) {\n        closeDropdown();\n      }\n    }, CONFIG.TIMING.hoverDelay);\n  }\n\n  /**\n   * Handler para mouse enter do dropdown\n   */\n  function handleDropdownEnter() {\n    if (hoverTimeout) {\n      clearTimeout(hoverTimeout);\n      hoverTimeout = null;\n    }\n  }\n\n  /**\n   * Handler para cliques fora\n   */\n  function handleOutsideClick(e) {\n    if (!isDesktop()) return;\n    \n    if (!e.target.closest(CONFIG.SELECTORS.dropdownBtn) && \n        !e.target.closest(CONFIG.SELECTORS.dropdownMenu)) {\n      closeDropdown();\n    }\n  }\n\n  /**\n   * Configura event listeners\n   */\n  function setupEventListeners() {\n    if (!elements.dropdownBtn || !elements.dropdownMenu) return;\n\n    // Remove listeners antigos se existirem\n    elements.dropdownBtn.removeEventListener('click', handleButtonClick);\n    elements.dropdownMenu.removeEventListener('mouseleave', handleDropdownLeave);\n    elements.dropdownBtn.removeEventListener('mouseleave', handleButtonLeave);\n    elements.dropdownMenu.removeEventListener('mouseenter', handleDropdownEnter);\n\n    // Adiciona novos listeners\n    elements.dropdownBtn.addEventListener('click', handleButtonClick);\n    elements.dropdownMenu.addEventListener('mouseleave', handleDropdownLeave);\n    elements.dropdownBtn.addEventListener('mouseleave', handleButtonLeave);\n    elements.dropdownMenu.addEventListener('mouseenter', handleDropdownEnter);\n  }\n\n  /**\n   * Inicializa o dropdown desktop\n   */\n  function initDropdownDesktop() {\n    if (!isDesktop() || isInitialized) return;\n    \n    cacheElements();\n    setupEventListeners();\n    isInitialized = true;\n  }\n\n  /**\n   * Handler debounced para resize\n   */\n  function handleResize() {\n    clearTimeout(window.desktopDropdownResizeTimeout);\n    window.desktopDropdownResizeTimeout = setTimeout(() => {\n      if (isDesktop()) {\n        initDropdownDesktop();\n      } else {\n        // Limpa estado quando vai para mobile\n        isInitialized = false;\n        elements = {};\n        closeDropdown();\n      }\n    }, CONFIG.TIMING.resizeDelay);\n  }\n\n  /**\n   * Inicialização\n   */\n  function init() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", initDropdownDesktop);\n    } else {\n      setTimeout(initDropdownDesktop, 100);\n    }\n\n    // Event listeners globais\n    window.addEventListener(\"resize\", handleResize);\n    document.addEventListener(\"click\", handleOutsideClick);\n  }\n\n  // Inicializa\n  init();\n})();\n","/**\n * BR Moto Sport - Dropdown Mobile\n * Funcionalidade de dropdown para mobile/tablet (≤1024px)\n * Arquivo: src/js/dropdown-mobile.js\n */\n\n(() => {\n  'use strict';\n\n  // Configurações\n  const CONFIG = {\n    BREAKPOINT: 1024,\n    SELECTORS: {\n      triggerClass: \".btn-dropdown\",\n      submenuId: \"mega-menu\",\n      headerSelector: \".header-main\",\n      menuToggleSelector: \".menu-hamburger\",\n    },\n    CLASSES: {\n      active: \"w--open\",\n      headerActive: \"mobile-menu-active\",\n      dropdownActive: \"active\"\n    }\n  };\n\n  // Cache de elementos DOM\n  let elements = {};\n  let isInitialized = false;\n\n  /**\n   * Verifica se está em mobile/tablet\n   */\n  function isMobile() {\n    return window.innerWidth <= CONFIG.BREAKPOINT;\n  }\n\n  /**\n   * Cache de elementos DOM\n   */\n  function cacheElements() {\n    elements = {\n      header: document.querySelector(CONFIG.SELECTORS.headerSelector),\n      menuToggle: document.querySelector(CONFIG.SELECTORS.menuToggleSelector),\n      triggerLi: document.querySelector(`li:has(${CONFIG.SELECTORS.triggerClass})`),\n      submenu: document.querySelector(`#${CONFIG.SELECTORS.submenuId} .dropdown-menu-list`)\n    };\n  }\n\n  /**\n   * Configura o monitoramento do header mobile\n   */\n  function setupMobileHeader() {\n    if (!elements.header || !elements.menuToggle) return;\n\n    const observer = new MutationObserver((mutations) => {\n      mutations.forEach((mutation) => {\n        if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\n          const isMenuOpen = elements.menuToggle.classList.contains(CONFIG.CLASSES.active);\n          \n          if (isMenuOpen) {\n            elements.header.classList.add(CONFIG.CLASSES.headerActive);\n          } else {\n            elements.header.classList.remove(CONFIG.CLASSES.headerActive);\n          }\n        }\n      });\n    });\n\n    observer.observe(elements.menuToggle, {\n      attributes: true,\n      attributeFilter: ['class']\n    });\n\n    // Estado inicial\n    if (elements.menuToggle.classList.contains(CONFIG.CLASSES.active)) {\n      elements.header.classList.add(CONFIG.CLASSES.headerActive);\n    }\n  }\n\n  /**\n   * Configura o dropdown de marcas\n   */\n  function setupMarcaDropdown() {\n    if (!isMobile() || !elements.triggerLi || !elements.submenu) return;\n\n    // Move submenu para dentro do item de menu\n    elements.triggerLi.appendChild(elements.submenu);\n    \n    // Remove listeners antigos se existirem\n    elements.triggerLi.removeEventListener(\"click\", handleMarcaClick);\n\n    // Adiciona novo handler\n    elements.triggerLi.addEventListener(\"click\", handleMarcaClick);\n\n    // Previne fechamento em cliques nos links\n    elements.submenu.querySelectorAll(\"a\").forEach(link => {\n      link.addEventListener(\"click\", (e) => e.stopPropagation());\n    });\n  }\n\n  /**\n   * Gerencia clique no dropdown de marcas\n   */\n  function handleMarcaClick(e) {\n    if (!isMobile() || e.target.closest(\".dropdown-menu-list a\")) return;\n    \n    e.preventDefault();\n    e.stopPropagation();\n\n    const isActive = elements.submenu.classList.contains(CONFIG.CLASSES.dropdownActive);\n\n    if (isActive) {\n      closeMarcaDropdown();\n      elements.triggerLi.classList.remove(CONFIG.CLASSES.dropdownActive);\n    } else {\n      openMarcaDropdown();\n      elements.triggerLi.classList.add(CONFIG.CLASSES.dropdownActive);\n    }\n  }\n\n  /**\n   * Abre o dropdown de marcas\n   */\n  function openMarcaDropdown() {\n    if (!elements.submenu) return;\n    \n    elements.submenu.setAttribute(\"aria-hidden\", \"false\");\n    elements.submenu.classList.add(CONFIG.CLASSES.dropdownActive);\n  }\n\n  /**\n   * Fecha o dropdown de marcas\n   */\n  function closeMarcaDropdown() {\n    if (!elements.submenu) return;\n    \n    elements.submenu.style.cssText = `\n      display: none !important;\n      visibility: hidden !important;\n      opacity: 0 !important;\n      pointer-events: none !important;\n    `;\n    \n    elements.submenu.classList.remove(CONFIG.CLASSES.dropdownActive);\n    elements.submenu.setAttribute(\"aria-hidden\", \"true\");\n  }\n\n  /**\n   * Inicializa todas as funcionalidades mobile\n   */\n  function initMobileFeatures() {\n    if (isInitialized) return;\n    \n    cacheElements();\n    setupMobileHeader();\n    setupMarcaDropdown();\n    isInitialized = true;\n  }\n\n  /**\n   * Debounced resize handler\n   */\n  function handleResize() {\n    clearTimeout(window.mobileDropdownResizeTimeout);\n    window.mobileDropdownResizeTimeout = setTimeout(() => {\n      if (isMobile()) {\n        initMobileFeatures();\n      } else {\n        // Limpa estado quando volta para desktop\n        isInitialized = false;\n        elements = {};\n      }\n    }, 150);\n  }\n\n  /**\n   * Handler para cliques fora do dropdown\n   */\n  function handleOutsideClick(e) {\n    if (!isMobile() || !elements.triggerLi) return;\n    \n    if (!e.target.closest(`li:has(${CONFIG.SELECTORS.triggerClass})`)) {\n      closeMarcaDropdown();\n    }\n  }\n\n  // Inicialização\n  function init() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", initMobileFeatures);\n    } else {\n      setTimeout(initMobileFeatures, 100);\n    }\n\n    // Event listeners\n    window.addEventListener(\"resize\", handleResize);\n    document.addEventListener(\"click\", handleOutsideClick);\n  }\n\n  // Funções globais para compatibilidade\n  window.openMarcaDropdown = openMarcaDropdown;\n  window.closeMarcaDropdown = closeMarcaDropdown;\n\n  // Inicializa\n  init();\n})();\n"]}